(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){e.exports=n(35)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t),n.d(t,"refreshTokenSetup",(function(){return a}));var o=n(13),c=n.n(o),r=n(19),a=function(e){var t=1e3*(e.tokenObj.expires_in||3300),n=function(){var o=Object(r.a)(c.a.mark((function o(){var r;return c.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.reloadAuthResponse();case 2:r=o.sent,t=1e3*(r.expires_in||3300),console.log("newAuthRes:",r),localStorage.setItem("authToken",r.id_token),setTimeout(n,t);case 7:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();setTimeout(n,t)}},35:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),r=n(18),a=n.n(r),l=(n(26),n(10)),u=n(1),s=n(11),i=(n(27),n(9)),p=n(6),f=n(28).refreshTokenSetup;function g(e){var t=Object(i.useGoogleLogin)({onSuccess:function(e){console.log("Login Success: currentUser:",e.profileObj),localStorage.setItem("user",JSON.stringify(e.profileObj)),f(e),Object(p.checkLogin)(e)},onFailure:function(e){localStorage.setItem("user",""),Object(p.checkLogin)()},clientId:p.clientId,isSignedIn:!0,accessType:"offline"}).signIn;return c.a.createElement("button",{onClick:t,className:"button"},"Sign in with Google")}function m(){var e=Object(i.useGoogleLogout)({clientId:p.clientId,onLogoutSuccess:function(e){console.log("Logged out Success"),localStorage.setItem("user",""),Object(p.checkLogin)()},onFailure:function(e){console.log(e),Object(p.checkLogin)()}}).signOut;return c.a.createElement("button",{onClick:e},"Sign out")}var h=[{path:"/",component:function(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){var e=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):"";r(e)}),[]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("p",null,"Edit ",c.a.createElement("code",null,"src/")," and save to reload."),c.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React"),n?c.a.createElement(m,null):c.a.createElement(g,{location:"home"}),n?c.a.createElement(l.b,{to:"/profile"},"Profile"):""))}},{path:"/profile",component:function(e){var t=Object(o.useState)(null),n=Object(s.a)(t,2),r=n[0],a=n[1];return Object(o.useEffect)((function(){var e=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):"";a(e),Object(p.checkLogin)(e),console.log(e)}),[]),c.a.createElement("div",null," Hi: ",r?r.givenName:""," ")}}],d=c.a.createElement(l.a,null,c.a.createElement(u.c,null,h.map((function(e,t){return c.a.createElement(u.a,{key:t,exact:!0,path:e.path,component:e.component})}))));a.a.render(d,document.getElementById("root"))},6:function(e,t){e.exports={checkLogin:function(e){if(e)return!0;window.location.href="/"},clientId:"629278947250-nkpd44atk3oke72rnn4sv87hd8f5uckr.apps.googleusercontent.com"}}},[[21,1,2]]]);
//# sourceMappingURL=main.82ec955b.chunk.js.map