(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){e.exports=n(35)},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t),n.d(t,"refreshTokenSetup",(function(){return c}));var o=n(13),r=n.n(o),a=n(19),c=function(e){var t=1e3*(e.tokenObj.expires_in||3300),n=function(){var o=Object(a.a)(r.a.mark((function o(){var a;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.reloadAuthResponse();case 2:a=o.sent,t=1e3*(a.expires_in||3300),console.log("newAuthRes:",a),localStorage.setItem("authToken",a.id_token),setTimeout(n,t);case 7:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();setTimeout(n,t)}},35:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(18),c=n.n(a),l=(n(26),n(10)),u=n(1),s=n(11),i=(n(27),n(9)),p=n(7),f=n(28).refreshTokenSetup;function m(e){var t=Object(i.useGoogleLogin)({onSuccess:function(e){console.log("Login Success: currentUser:",e.profileObj),localStorage.setItem("user",JSON.stringify(e.profileObj)),f(e)},onFailure:function(e){localStorage.setItem("user","")},clientId:p.clientId,isSignedIn:!0,accessType:"offline"}).signIn;return r.a.createElement("button",{onClick:t,className:"button"},"Sign in with Google")}function g(){var e=Object(i.useGoogleLogout)({clientId:p.clientId,onLogoutSuccess:function(e){console.log("Logged out Success"),localStorage.setItem("user","")},onFailure:function(e){console.log(e)}}).signOut;return r.a.createElement("button",{onClick:e},"Sign out")}var d=function(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){var e=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):"";a(e)}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"Edit ",r.a.createElement("code",null,"src/")," and save to reload."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React"),n?r.a.createElement(g,null):r.a.createElement(m,{location:"home"}),n?r.a.createElement(l.b,{to:"/profile"},"Profile"):""))};var h=[{path:"/profile",component:function(e){var t=Object(o.useState)(null),n=Object(s.a)(t,2),a=n[0],c=n[1];return Object(o.useEffect)((function(){var e=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):"";c(e),Object(p.checkLogin)(e),console.log(e)}),[]),r.a.createElement("div",null," Hi: ",a?a.givenName:""," ")}}],S=r.a.createElement(l.a,null,r.a.createElement(u.c,null,h.map((function(e,t){return r.a.createElement(u.a,{key:t,exact:!0,path:e.path,component:e.component})})),r.a.createElement(u.a,{exact:!0,component:d})));c.a.render(S,document.getElementById("root"))},7:function(e,t){e.exports={checkLogin:function(e){if(e)return!0;window.location.href="/"},clientId:"629278947250-nkpd44atk3oke72rnn4sv87hd8f5uckr.apps.googleusercontent.com"}}},[[21,1,2]]]);
//# sourceMappingURL=main.69c683f3.chunk.js.map